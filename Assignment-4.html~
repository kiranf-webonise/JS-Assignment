<html>
<head>
<title>Users</title>
<script>
	function validate(mail,username) 
	{
	 if(username=="")
		return false;

	 if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(document.getElementById("email").value))
	    return (true)
	 else
	    return (false)
	}
	
	var user=[];
	function addLocal()
	{
		var time = new Date().getTime();
		var username = document.getElementById("username").value;
		var email = document.getElementById("email").value;
		
		if(validate(email,username))
		{	
			user.push(username,email,time);
			localStorage.setItem("UserDetails",JSON.stringify(user));
		}
	}
	function showLocal()
	{
		var userdata=localStorage.getItem("UserDetails").split(',');
		var count=0;
		for( a in userdata )
		{
			++count;
			document.write(userdata[a]);
		}
	}
</script>
</head>

<body>

	<table>
		<tr>
			<td>Enter UserName:</td>
			<td><input type=text id="username"></td>
		</tr>
		<tr>
			<td>Enter Email:</td>	
			<td><input type=Email id="email"></td>
		</tr>
		<tr>	
			<td><button onclick="addLocal()">Add</button></td>
			<td><button onclick="showLocal()">Show</button></td>
		</tr>
	</table>
</body>

</html>
